<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <title>Opção filters</title>
    <link rel="stylesheet" href="assets/style-base.css">
    <link rel="stylesheet" href="assets/style-docs.css">
    <link rel="stylesheet" href="assets/hljs-github.min.css">
    <link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css">
  </head>
  <body>

    <header class="header">
      <div class="container flex">
        <h1 class="title flex-auto">
          <a href="/">Piii.js</a>
        </h1>
        <a class="item" href="https://github.com/piiijs/piii.js">
          <i class="fa fa-github"></i> GITHUB
        </a>
      </div>
    </header>

    <section class="section">
      <div class="container flex">
        <aside class="aside">
          <div>
            <ul>
              <li><a href="instalacao.html">Instalação</a></li>
              <li><a href="usando.html">Usando</a></li>
            </ul>
            <p>CONFIGURAÇÕES:</p>
            <ul>
              <li><a href="opcao_filters.html"><code>filters</code></a></li>
              <li><a href="opcao_aliases.html"><code>aliases</code></a></li>
              <li><a href="opcao_repeated.html"><code>repeated</code></a></li>
              <li><a href="opcao_censor.html"><code>censor</code></a></li>
              <li><a href="opcao_cleaner.html"><code>cleaner</code></a></li>
            </ul>
          </div>
        </aside>

        <article class="article flex-auto"><h1 id="opção-filters"><a class="header-link" href="#opção-filters"></a>Opção filters</h1>
<blockquote>
<p>Lista de filtros.</p>
</blockquote>
<ul class="list">
<li>Tipo: <em>Array</em>.</li>
<li>Valor padrão: <code>[]</code>.</li>
</ul>
<p>Isso deve ser uma <em>array</em> contendo todos os filtros que serão usados. Por padrão nenhum filtro é adicionado ― pois existem algumas palavras que não são vistas como de <a href="https://goo.gl/KaUXDc">baixo-calão</a> por todas as pessoas ou para determinadas situações ―, portanto, você deverá criar o seu próprio filtro ou obter um de terceiros.</p>
<pre class="hljs"><code><span class="hljs-comment">/**
 * Sintaxe.
 */</span>
<span class="hljs-keyword">const</span> piii = <span class="hljs-keyword">new</span> Piii({
  <span class="hljs-attr">filters</span>: [
     <span class="hljs-comment">// todos os filtros aqui...</span>
  ]
});</code></pre><h2 id="criando-filtros"><a class="header-link" href="#criando-filtros"></a>Criando filtros</h2>
<p>Para a criação de filtros, é usado <em>arrays</em> que posteriormente serão convertidas em <em>regexs</em>.</p>
<p>Exemplo simples de filtro:</p>
<pre class="hljs"><code>[<span class="hljs-string">"foo"</span>, <span class="hljs-string">"bar"</span>]</code></pre><p>O <em>Piii.js</em> interpretará a <em>array</em> acima como <code>(foo|bar)</code>, portanto, com isso, serão filtrados todas as ocorrências de <em>foo</em> e <em>bar</em> denttro de uma <em>string</em>. Veja o exemplo:</p>
<pre class="hljs"><code><span class="hljs-keyword">const</span> filtro = [<span class="hljs-string">"foo"</span>, <span class="hljs-string">"bar"</span>];

<span class="hljs-keyword">const</span> piii = <span class="hljs-keyword">new</span> Piii({
  <span class="hljs-attr">filters</span>: [
    filtro
  ]
});

piii.filter(<span class="hljs-string">"foo bar baz"</span>) <span class="hljs-comment">// "* * bar"</span></code></pre><blockquote>
<p><strong>Obs.</strong>: Tudo dentro do filtro deve ser <em>arrays</em> e/ou <em>strings</em> e as <em>strings</em> DEVEM corresponder a expressão regular <code>/^[a-zA-Z]+$/</code>, ou seja, só podem ter letras (sem acentos) ― um erro será lançado caso isso não seja seguido.</p>
</blockquote>
<p>Algumas regras do interpretador de filtros para conversão em <em>regexs</em>.</p>
<ul class="list">
<li>Uma <em>string</em> retorna uma string.</li>
<li>Uma <em>array</em> de <em>strings</em> retorna-as como alternação.<ul class="list">
<li>Antes disso a <em>array</em> é posta em ordem decrescente.</li>
</ul>
</li>
<li>Uma <em>array</em> de <em>arrays</em> retorna-as como alternação.<ul class="list">
<li>Antes disso a <em>array</em> é invertida.</li>
</ul>
</li>
<li>Uma <em>array</em> de <em>strings</em> e <em>arrays</em> retorna-as como continuação.</li>
</ul>
<p>Exemplos de cada uma das regras:</p>
<pre class="hljs"><code><span class="hljs-string">"abc"</span> <span class="hljs-comment">// é como "abc"</span>
[<span class="hljs-string">"def"</span>, <span class="hljs-string">"abc"</span>] <span class="hljs-comment">// é como "(abc|def)"</span>
[[<span class="hljs-string">"def"</span>, <span class="hljs-string">"abc"</span>], [<span class="hljs-string">"jkl"</span>, <span class="hljs-string">"ghi"</span>]] <span class="hljs-comment">// é como "((abc|def)|(ghi|jkl))"</span>
[<span class="hljs-string">"abc"</span>, [<span class="hljs-string">"ghi"</span>, <span class="hljs-string">"def"</span>]] <span class="hljs-comment">// é como "(abc(def|ghi))"</span></code></pre><h2 id="exemplos"><a class="header-link" href="#exemplos"></a>Exemplos</h2>
<p>Supondo que você queira criar um filtro para <em>merda</em>.</p>
<p>Você pode fazer algo como:</p>
<pre class="hljs"><code><span class="hljs-keyword">const</span> filtroDeExemplo = [
  <span class="hljs-string">"merd"</span>,
  [
    <span class="hljs-string">"a"</span>,
    <span class="hljs-string">"inha"</span>,
    <span class="hljs-string">"ao"</span> <span class="hljs-comment">// observe que não tem acento</span>
  ]
];

<span class="hljs-keyword">const</span> piii = <span class="hljs-keyword">new</span> Piii({
  <span class="hljs-attr">filters</span>: [
    filtroDeExemplo
  ]
});

<span class="hljs-comment">// Exemplos:</span>
piii.filter(<span class="hljs-string">"Que merda!"</span>); <span class="hljs-comment">// "Que *!"</span>
piii.filter(<span class="hljs-string">"Que merdinha!"</span>); <span class="hljs-comment">// "Que *!"</span>
piii.filter(<span class="hljs-string">"Que merdão!"</span>); <span class="hljs-comment">// "Que *!"</span></code></pre><h2 id="usando-filtros-de-terceiros"><a class="header-link" href="#usando-filtros-de-terceiros"></a>Usando filtros de terceiros</h2>
<p>Você também pode importar filtros de terceiros para usar. Você pode pesquisar no <em>GitHub</em> por <a href="https://git.io/vNxcW"><code>topic:piii-filter</code></a> para encontrar filtros ― e caso você crie seu próprio filtro e publique-o no <em>GitHub</em> você poderá adicionar <em>piii-filter</em> nos <em>topics</em> do repositório para que ele seja encontrado por outras pessoas.</p>
<p>Caso queira começar com <em>Piii.js</em> sem ter que fazer muitas configurações você poderá usar o <a href="https://ghub.io/piii-filters"><code>piii-filters</code></a> que já vem com alguns filtros dos palavrões mais usados na língua portuguesa (e visto como de baixo-calão por quase todos).</p>
<p>Você pode instalá-lo com:</p>
<pre class="hljs"><code>npm install --save-dev piii-filters</code></pre><p>E usá-lo com:</p>
<pre class="hljs"><code><span class="hljs-keyword">const</span> Piii = <span class="hljs-built_in">require</span>(<span class="hljs-string">"piii"</span>);
<span class="hljs-keyword">const</span> piiiFilters = <span class="hljs-built_in">require</span>(<span class="hljs-string">"piii-filters"</span>);

<span class="hljs-keyword">const</span> piii = Piii({
  <span class="hljs-attr">filters</span>: [
    ...Object.values(piiiFilters)
  ]
});

piii.filter(<span class="hljs-string">"Vá se foder!"</span>); <span class="hljs-comment">// "Vá se *!"</span></code></pre>        </article>
      </div>
    </section>

    <script>
      (function () {
        var pathname = window.location.pathname.substr(1);
        var activeLink = document.querySelector("[href='" + pathname + "']");

        if (activeLink) {
          activeLink.href = "javascript:void(0);";
          activeLink.classList.add("active");
        }
      })();
    </script>
  </body>
</html>
